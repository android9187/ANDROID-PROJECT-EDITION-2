{
 "cells": [
  {
   "cell_type": "code",
   "execution_count": 4,
   "id": "235f8fb2-2a13-411e-aad3-de0b5d4ec0e6",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "BeautifulSoup установлен и готов к работе!\n"
     ]
    }
   ],
   "source": [
    "# установка библиотеки\n",
    "!pip install beautifulsoup4 -q\n",
    "\n",
    "# Импорт необходимых библиотек\n",
    "from bs4 import BeautifulSoup\n",
    "import requests\n",
    "\n",
    "# Проверка версии\n",
    "print(\"BeautifulSoup установлен и готов к работе!\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": 11,
   "id": "4b1ad423-0945-4329-b2f2-1085ef422adc",
   "metadata": {},
   "outputs": [
    {
     "name": "stdout",
     "output_type": "stream",
     "text": [
      "РАСПИСАНИЕ ЭЛЕКТРИЧЕК МОСКВА - ЩЕРБИНКА\n",
      "======================================================================\n",
      "\n",
      "ВСЕ РЕЙСЫ:\n",
      "======================================================================\n",
      "05:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "06:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "06:55  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "07:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "08:05  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "08:40  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "09:15  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "09:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "10:25  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "11:00  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "11:35  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "12:10  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "12:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "13:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "13:55  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "14:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "15:05  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "15:40  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "16:15  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "16:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "17:25  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "18:00  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "18:35  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "19:10  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "19:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "20:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "20:55  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "21:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "22:05  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "22:40  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "23:15  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "23:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "Всего: 32 рейсов\n",
      "\n",
      "РЕЙСЫ ПО БУДНЯМ (включая ежедневные):\n",
      "======================================================================\n",
      "05:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "06:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "06:55  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "07:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "08:05  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "08:40  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "09:15  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "09:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "10:25  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "11:00  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "11:35  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "12:10  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "12:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "13:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "13:55  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "14:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "15:05  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "15:40  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "16:15  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "16:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "17:25  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "18:00  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "18:35  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "19:10  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "19:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "20:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "20:55  | Москва (Курский вокзал) → Щербинка       | пн, вт, ср, чт, пт\n",
      "21:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "22:05  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "22:40  | Щербинка → Москва (Курский вокзал)       | пн, вт, ср, чт, пт\n",
      "23:15  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "23:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "Всего: 32 рейсов\n",
      "\n",
      "ТОЛЬКО ЕЖЕДНЕВНЫЕ РЕЙСЫ:\n",
      "======================================================================\n",
      "05:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "06:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "07:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "08:40  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "09:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "10:25  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "11:35  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "12:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "13:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "14:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "15:05  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "16:15  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "16:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "18:00  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "18:35  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "19:45  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "20:20  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "21:30  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "22:05  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "23:15  | Москва (Курский вокзал) → Щербинка       | ежедневно\n",
      "23:50  | Щербинка → Москва (Курский вокзал)       | ежедневно\n",
      "Всего: 21 рейсов\n",
      "\n",
      "✓ Расписание сохранено в файлы:\n",
      "  - raspisanie_electrichek.json (все рейсы)\n",
      "  - raspisanie_budni.json (рейсы по будням)\n",
      "  - raspisanie_ejednevno.json (ежедневные рейсы)\n"
     ]
    }
   ],
   "source": [
    "# парсер с данными\n",
    "import json\n",
    "\n",
    "# тестовые данные электричек Москва - Щербинка\n",
    "test_trains = [\n",
    "    {\"time\": \"05:45\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"06:20\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"06:55\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"07:30\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"08:05\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"08:40\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"09:15\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"09:50\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"10:25\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"11:00\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"11:35\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"12:10\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"12:45\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"13:20\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"13:55\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"14:30\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"15:05\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"15:40\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"16:15\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"16:50\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"17:25\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"18:00\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"18:35\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"19:10\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"19:45\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"20:20\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"20:55\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"21:30\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"22:05\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"22:40\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"пн, вт, ср, чт, пт\", \"type\": \"weekdays\"},\n",
    "    {\"time\": \"23:15\", \"route\": \"Москва (Курский вокзал) → Щербинка\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "    {\"time\": \"23:50\", \"route\": \"Щербинка → Москва (Курский вокзал)\", \"days\": \"ежедневно\", \"type\": \"daily\"},\n",
    "]\n",
    "\n",
    "# функция фильтрации\n",
    "def filter_trains(trains, filter_type):\n",
    "    # фильтрует рейсы по типу дней\n",
    "    if filter_type == \"weekdays\":\n",
    "        return [t for t in trains if t[\"type\"] in [\"weekdays\", \"daily\"]]\n",
    "    elif filter_type == \"daily\":\n",
    "        return [t for t in trains if t[\"type\"] == \"daily\"]\n",
    "    else:\n",
    "        return trains\n",
    "\n",
    "# функция вывода\n",
    "def print_trains(trains, title):\n",
    "    print(f\"\\n{title}\")\n",
    "    print(\"=\" * 70)\n",
    "    for train in trains:\n",
    "        print(f\"{train['time']:6} | {train['route']:40} | {train['days']}\")\n",
    "    print(f\"Всего: {len(trains)} рейсов\")\n",
    "\n",
    "# основная программа\n",
    "print(\"РАСПИСАНИЕ ЭЛЕКТРИЧЕК МОСКВА - ЩЕРБИНКА\")\n",
    "print(\"=\" * 70)\n",
    "\n",
    "# все рейсы\n",
    "print_trains(test_trains, \"ВСЕ РЕЙСЫ:\")\n",
    "\n",
    "# рейсы по будням\n",
    "weekday_trains = filter_trains(test_trains, \"weekdays\")\n",
    "print_trains(weekday_trains, \"РЕЙСЫ ПО БУДНЯМ (включая ежедневные):\")\n",
    "\n",
    "# только ежедневные\n",
    "daily_trains = filter_trains(test_trains, \"daily\")\n",
    "print_trains(daily_trains, \"ТОЛЬКО ЕЖЕДНЕВНЫЕ РЕЙСЫ:\")\n",
    "\n",
    "# сохраняем в JSON\n",
    "with open('raspisanie_electrichek.json', 'w', encoding='utf-8') as f:\n",
    "    json.dump(test_trains, f, ensure_ascii=False, indent=2)\n",
    "\n",
    "with open('raspisanie_budni.json', 'w', encoding='utf-8') as f:\n",
    "    json.dump(weekday_trains, f, ensure_ascii=False, indent=2)\n",
    "\n",
    "with open('raspisanie_ejednevno.json', 'w', encoding='utf-8') as f:\n",
    "    json.dump(daily_trains, f, ensure_ascii=False, indent=2)\n",
    "\n",
    "print(\"\\n✓ Расписание сохранено в файлы:\")\n",
    "print(\"  - raspisanie_electrichek.json (все рейсы)\")\n",
    "print(\"  - raspisanie_budni.json (рейсы по будням)\")\n",
    "print(\"  - raspisanie_ejednevno.json (ежедневные рейсы)\")"
   ]
  },
  {
   "cell_type": "code",
   "execution_count": null,
   "id": "3683fc51-7a13-4a02-8ce6-b94f78f802ec",
   "metadata": {},
   "outputs": [],
   "source": []
  }
 ],
 "metadata": {
  "kernelspec": {
   "display_name": "Python [conda env:base] *",
   "language": "python",
   "name": "conda-base-py"
  },
  "language_info": {
   "codemirror_mode": {
    "name": "ipython",
    "version": 3
   },
   "file_extension": ".py",
   "mimetype": "text/x-python",
   "name": "python",
   "nbconvert_exporter": "python",
   "pygments_lexer": "ipython3",
   "version": "3.12.7"
  }
 },
 "nbformat": 4,
 "nbformat_minor": 5
}
